<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark"
		creationComplete="handleCreationComplete();"
		title="AppKey ANE demo">
	<fx:Declarations>
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import com.appkey.ane.AppKey;
			import com.appkey.ane.AppKeyEvent;
			
			private var mAppKey:AppKey = null;
			private static const AppKeyAppId : String = "9";
			private static const AppKeyAnalyticsEnabled : Boolean = true;
			private static const AppKeyBenefit : String = "some amazing feature in my AIR app";

			public function button_promptUser_clickHandler(event:MouseEvent):void
			{
				mAppKey.promptUser(AppKeyBenefit);
			}

			public function onEvent(akEvent:AppKeyEvent):void {
				mAppKey.aneLogcatMessage("AppKeyANEdemoHomeView.onEvent Called. akEvent.type="+akEvent.type);
				switch (akEvent.type) {
					case AppKeyEvent.APPKEY_ENABLED:
						akStatus.text = "Enabled";
						break;
					case AppKeyEvent.APPKEY_DISABLED:
						akStatus.text = "Disabled";
						break;
				}
			}

			private function handleCreationComplete():void
			{
				mAppKey = new AppKey(AppKeyAppId, AppKeyAnalyticsEnabled);
				mAppKey.addEventListener(AppKeyEvent.APPKEY_ENABLED, this.onEvent);
				mAppKey.addEventListener(AppKeyEvent.APPKEY_DISABLED, this.onEvent);
				mAppKey.checkAccess();
			}

			public function button_openAppKey_clickHandler(event:MouseEvent):void
			{
				mAppKey.openAppKey();
			}

			public function button_isenabled_clickHandler(event:MouseEvent):void
			{
				if (mAppKey.isAppKeyEnabled) {
					labelIsAppKeyEnabled.text = "Enabled";
				} else {
					labelIsAppKeyEnabled.text = "Disabled";
				}
			}
		]]>
	</fx:Script>
	<s:Label x="10" y="25" text="AppKey status:"/>
	<s:Label x="200" y="25" text="" id="akStatus" width="200"/>
	<s:Button x="25" y="100" label="Call promptUser" click="button_promptUser_clickHandler(event)"/>
	<s:Button x="25" y="200" label="Call openAppKey" click="button_openAppKey_clickHandler(event)"/>
	<s:Button x="10" y="300" label="isAppKeyEnabled==" click="button_isenabled_clickHandler(event)"/>
	<s:Label x="200" y="300" text="" id="labelIsAppKeyEnabled" width="200"/>
</s:View>
